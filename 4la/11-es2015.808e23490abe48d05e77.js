(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{jkDv:function(t,i,e){"use strict";e.r(i),e.d(i,"AdminModule",(function(){return B}));var s=e("2E4B"),c=e("9QQf"),n=e("bSW0"),a=e("SVse"),b=e("s7LF"),r=e("COeT"),o=e("8Y7J"),h=e("q8zl"),l=e("GxNG");function p(t,i){if(1&t){const t=o.Zb();o.Yb(0,"i",18),o.fc("click",(function(){return o.zc(t),o.jc().onSave()})),o.Xb()}}function u(t,i){if(1&t){const t=o.Zb();o.Yb(0,"i",19),o.fc("click",(function(){return o.zc(t),o.jc().onCreate()})),o.Xb()}}function d(t,i){if(1&t){const t=o.Zb();o.Yb(0,"tr"),o.Yb(1,"td"),o.Jc(2),o.Xb(),o.Yb(3,"td"),o.Jc(4),o.Xb(),o.Yb(5,"td"),o.Jc(6),o.Xb(),o.Yb(7,"td"),o.Yb(8,"i",20),o.fc("click",(function(){o.zc(t);const e=i.$implicit;return o.jc().onEdit(e)})),o.Xb(),o.Yb(9,"i",21),o.fc("click",(function(){o.zc(t);const e=i.$implicit;return o.jc().onDelete(e._id)})),o.Xb(),o.Xb(),o.Xb()}if(2&t){const t=i.$implicit;o.Hb(2),o.Kc(t.Nhom),o.Hb(2),o.Kc(t.NoiDung),o.Hb(2),o.Kc(t.GiaTri)}}const f=function(){return[]};let m=(()=>{class t{constructor(t,i){this.plus=t,this.fb=i,this.main=this.fb.group({_id:[],Nhom:["",[b.s.required]],NoiDung:["",[b.s.required]],GiaTri:[""]}),this.dbName="app",this.db=null,this.api="catalog",this.data=[],this.readonly=!1,this.id=null}ngOnInit(){this.update(),this.search(),this.plus.IDB_InitDB(this.dbName).subscribe(t=>{this.db=t,this.get()})}get(){this.plus.IDB_DB_GetAll(this.db,this.api).subscribe(t=>{this.plus.load(),t.length>0?(this.plus.loaded(),this.data=t):this.plus.httpGet(this.api).subscribe(t=>{this.plus.loaded(),t.length>0&&(this.data=t,this.plus.IDB_DB_Add(this.db,this.api,t))},t=>this.plus.alertError())})}onEdit(t){this.main.patchValue(t),this.id=t._id,console.log(this.id)}onSave(){let t=this.main.value;t.Nhom=this.plus.removeAccents(t.Nhom),this.plus.httpPut(this.api,t).subscribe(t=>{console.log(t),this.reset(),this.get()})}onCreate(){let t=this.main.value;delete t._id,t.Nhom=this.plus.removeAccents(t.Nhom),this.main.valid&&(this.plus.load(),this.plus.httpPost(this.api,t).subscribe(i=>{this.data.push(t),console.log(i),this.reset(),this.get()}))}onDelete(t){this.plus.load(),t&&this.plus.httpDelete(this.api,t).subscribe(t=>{this.plus.loaded(),this.plus.alertToasrt(t)})}find(t){this.data=t}loadMore(t){this.data.concat(t)}update(){this.plus.FBS_Update(this.api).subscribe(t=>{console.log(t);const i=this.plus.Arr_MaxValue(this.data,"dateModify");t[0].dateModify>i&&this.plus.httpGet(this.api+"/update/"+i).subscribe(t=>{this.data.concat(t),this.data=this.plus.sortArr(this.data,"dateModify"),this.plus.IDB_DB_Add(this.db,this.api,this.plus.decrypt(t.data))}),console.log(t[0].dateModify,i)})}reset(){this.plus.loaded(),this.main.controls.NoiDung.reset(),this.main.controls.GiaTri.reset(),this.id=null}search(){this.main.valueChanges.subscribe(t=>{const i=Object.values(this.plus.Obj_clean(t)).toString();i.length>0?this.data=this.plus.searchTable(this.data,i):this.get()})}}return t.\u0275fac=function(i){return new(i||t)(o.Sb(r.a),o.Sb(b.c))},t.\u0275cmp=o.Mb({type:t,selectors:[["app-catalogs"]],decls:32,vars:8,consts:[[1,"container"],[1,"text-center","text-primary","my-4"],[1,"row"],[3,"api","data"],[1,"table","table-hover","table-inverse","bordered"],[1,"thead-inverse"],[1,"w-10"],[3,"formGroup"],["hidden",""],["type","text","formControlName","_id",1,"form-control"],["type","text","formControlName","Nhom",1,"form-control"],["type","text","formControlName","NoiDung",1,"form-control"],["type","text","formControlName","GiaTri",1,"form-control"],[1,"text-center","h4"],["class","fa fa-save text-warning mx-2",3,"click",4,"ngIf"],["class","fa fa-plus text-success mx-2",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"api","dataLength","data"],[1,"fa","fa-save","text-warning","mx-2",3,"click"],[1,"fa","fa-plus","text-success","mx-2",3,"click"],["aria-hidden","true",1,"fa","fa-pencil","text-success","mx-2",3,"click"],["aria-hidden","true",1,"fa","fa-trash","text-danger","mx-2",3,"click"]],template:function(t,i){1&t&&(o.Yb(0,"div",0),o.Yb(1,"h4",1),o.Jc(2,"QU\u1ea2N L\xdd DANH M\u1ee4C"),o.Xb(),o.Tb(3,"div",2),o.Yb(4,"app-search-api",3),o.fc("data",(function(t){return i.find(t)})),o.Xb(),o.Yb(5,"div",2),o.Yb(6,"table",4),o.Yb(7,"thead",5),o.Yb(8,"tr"),o.Yb(9,"th"),o.Jc(10,"Nh\xf3m"),o.Xb(),o.Yb(11,"th"),o.Jc(12,"N\u1ed9i dung"),o.Xb(),o.Yb(13,"th"),o.Jc(14,"Gi\xe1 tr\u1ecb"),o.Xb(),o.Yb(15,"th",6),o.Jc(16,"Thao t\xe1c"),o.Xb(),o.Xb(),o.Xb(),o.Yb(17,"tbody"),o.Yb(18,"tr",7),o.Yb(19,"td",8),o.Tb(20,"input",9),o.Xb(),o.Yb(21,"td"),o.Tb(22,"input",10),o.Xb(),o.Yb(23,"td"),o.Tb(24,"input",11),o.Xb(),o.Yb(25,"td"),o.Tb(26,"input",12),o.Xb(),o.Yb(27,"td",13),o.Hc(28,p,1,0,"i",14),o.Hc(29,u,1,0,"i",15),o.Xb(),o.Xb(),o.Hc(30,d,10,3,"tr",16),o.Xb(),o.Xb(),o.Xb(),o.Yb(31,"app-loadmore",17),o.fc("data",(function(t){return i.loadMore(t)})),o.Xb(),o.Xb()),2&t&&(o.Hb(4),o.pc("api",i.api),o.Hb(14),o.pc("formGroup",i.main),o.Hb(10),o.pc("ngIf",i.main.valid&&i.id),o.Hb(1),o.pc("ngIf",i.main.valid),o.Hb(1),o.pc("ngForOf",i.data?i.data.slice(0,10):o.tc(7,f)),o.Hb(1),o.pc("api",i.api)("dataLength",i.data.length))},directives:[h.a,b.k,b.e,b.b,b.j,b.d,a.m,a.l,l.a],styles:[""]}),t})();var Y=e("Kj3r"),X=e("iInd");function g(t,i){if(1&t&&(o.Yb(0,"tr"),o.Yb(1,"td",13),o.Jc(2),o.Xb(),o.Yb(3,"td"),o.Yb(4,"a",14),o.Jc(5),o.Xb(),o.Xb(),o.Yb(6,"td"),o.Jc(7),o.Xb(),o.Xb()),2&t){const t=i.$implicit;o.Hb(2),o.Kc(t._id.ip),o.Hb(2),o.rc("routerLink","/admin/user/",t._id.userId,""),o.Hb(1),o.Lc(" ",t._id.userId,""),o.Hb(2),o.Kc(t.count)}}function k(t,i){if(1&t){const t=o.Zb();o.Yb(0,"tr"),o.Yb(1,"td"),o.Yb(2,"i",15),o.fc("click",(function(){o.zc(t);const e=i.$implicit;return o.jc().del(e._id)})),o.Xb(),o.Xb(),o.Yb(3,"td"),o.Jc(4),o.Xb(),o.Yb(5,"td"),o.Jc(6),o.Xb(),o.Yb(7,"td"),o.Jc(8),o.kc(9,"date"),o.Xb(),o.Yb(10,"td",11),o.Jc(11),o.Xb(),o.Xb()}if(2&t){const t=i.$implicit;o.Hb(4),o.Kc(t.api),o.Hb(2),o.Kc(t.ip),o.Hb(2),o.Kc(o.mc(9,4,t.date,"dd/MM/yyyy HH:MM")),o.Hb(3),o.Kc(t.data)}}let v=(()=>{class t{constructor(t,i){this.plus=t,this.fb=i,this.api="log",this.data=[],this.dbName="admin",this.db=null,this.dashboard=[],this.searchForm=this.fb.group({what:["",[b.s.minLength(3),b.s.maxLength(100)]]})}ngOnInit(){this.online(),this.plus.IDB_InitDB(this.dbName).subscribe(t=>{this.db=t,this.init(),this.update()})}init(){this.plus.httpGet(this.api).subscribe(t=>{const i=this.plus.decrypt(t.data);this.plus.IDB_DB_Add(this.db,this.api,i)})}del(t){this.plus.httpDelete(this.api,t).subscribe(t=>{console.log(t),this.plus.alertSuccess()})}find(){this.searchForm.valid?this.searchForm.valueChanges.pipe(Object(Y.a)(1500)).subscribe(t=>{this.plus.httpPost(this.api+"/find",t).subscribe(t=>{const i=this.plus.decrypt(t.data);console.log(i),this.data=this.plus.decrypt(t.data)},t=>{this.plus.loaded(),this.plus.alertToasrt({err:"L\u1ed7i k\u1ebft n\u1ed1i\nVui l\xf2ng th\u1eed l\u1ea1i!"})})}):this.plus.alertToasrt({war:"B\u1ea1n c\u1ea7n nh\u1eadp nhi\u1ec1u h\u01a1n 3 k\xfd t\u1ef1"})}online(){this.plus.httpGet(this.api+"/online").subscribe(t=>{console.log(t),this.dashboard=t})}update(){this.plus.FBS_Update(this.api).subscribe(t=>{const i=this.plus.Arr_MaxValue(this.data,"dateModify"),e=t.filter(t=>t.dateModify);e&&e[0].dateModify>i&&(console.log(e[0].dateModify,i),this.plus.sleep(1500),this.plus.httpGet(`${this.api}/update/${i}/time/${848255*this.data.length}`).subscribe(t=>{this.data.concat(t),this.data=this.plus.sortArr(this.data,"dateModify"),this.plus.IDB_DB_Add(this.db,this.api,this.plus.decrypt(t.data))})),t.length>0&&t.forEach(t=>{t.id&&(this.plus.IDB_DB_DeleteOne(this.db,this.api,t.id),this.plus.FBS_Delete_ID(this.api,""+t.id))})})}}return t.\u0275fac=function(i){return new(i||t)(o.Sb(r.a),o.Sb(b.c))},t.\u0275cmp=o.Mb({type:t,selectors:[["app-log"]],decls:38,vars:3,consts:[[1,"container"],[1,"text-center","text-danger"],[1,"form-group",3,"formGroup"],["type","text","placeholder","Nh\u1eadp th\xf4ng tin c\u1ea7n t\xecm","autocomplete","on","formControlName","what",1,"form-control",3,"change"],[1,"text-center","text-primary"],[1,"table","table-striped","table-inverse","table-responsive"],[1,"thead-inverse"],[4,"ngFor","ngForOf"],[1,"text-center","text-primary","bg-warning"],[1,"table","table-hover"],[1,"w-10"],[1,"w-70"],[3,"click"],["scope","row"],[3,"routerLink"],[1,"fa","fa-trash",3,"click"]],template:function(t,i){1&t&&(o.Yb(0,"div",0),o.Yb(1,"h5",1),o.Jc(2," LOG "),o.Xb(),o.Yb(3,"div",2),o.Yb(4,"input",3),o.fc("change",(function(){return i.find()})),o.Xb(),o.Xb(),o.Yb(5,"h5",4),o.Jc(6,"Th\u1ed1ng k\xea truy c\u1eadp h\xf4m nay"),o.Xb(),o.Yb(7,"table",5),o.Yb(8,"thead",6),o.Yb(9,"tr"),o.Yb(10,"th"),o.Jc(11,"IP"),o.Xb(),o.Yb(12,"th"),o.Jc(13,"userId"),o.Xb(),o.Yb(14,"th"),o.Jc(15,"Count"),o.Xb(),o.Xb(),o.Xb(),o.Yb(16,"tbody"),o.Hc(17,g,8,4,"tr",7),o.Xb(),o.Xb(),o.Tb(18,"hr"),o.Yb(19,"h5",8),o.Jc(20,"Chi ti\u1ebft"),o.Xb(),o.Yb(21,"table",9),o.Yb(22,"thead",6),o.Yb(23,"tr"),o.Yb(24,"th",10),o.Jc(25,"Del"),o.Xb(),o.Yb(26,"th",10),o.Jc(27,"Ip"),o.Xb(),o.Yb(28,"th",10),o.Jc(29,"Api"),o.Xb(),o.Yb(30,"th",10),o.Jc(31,"Time"),o.Xb(),o.Yb(32,"th",11),o.Jc(33,"Data"),o.Xb(),o.Xb(),o.Xb(),o.Yb(34,"tbody"),o.Hc(35,k,12,7,"tr",7),o.Xb(),o.Xb(),o.Yb(36,"h5",12),o.fc("click",(function(){return i.online()})),o.Jc(37,"Online"),o.Xb(),o.Xb()),2&t&&(o.Hb(3),o.pc("formGroup",i.searchForm),o.Hb(14),o.pc("ngForOf",i.dashboard),o.Hb(18),o.pc("ngForOf",i.data))},directives:[b.k,b.e,b.b,b.j,b.d,a.l,X.d],pipes:[a.d],styles:[""]}),t})(),y=(()=>{class t{constructor(t){this.plus=t,this.db=null,this.api="admin"}ngOnInit(){this.plus.IDB_InitDB(this.api).subscribe(t=>{this.db=t})}}return t.\u0275fac=function(i){return new(i||t)(o.Sb(r.a))},t.\u0275cmp=o.Mb({type:t,selectors:[["app-admin"]],decls:0,vars:0,template:function(t,i){},styles:[""]}),t})();var H=function(t){return t[t.ADMIN=1]="ADMIN",t[t.PERSON=2]="PERSON",t[t.EMAIL=3]="EMAIL",t[t.DAOTAO=4]="DAOTAO",t[t.VERHICLE=5]="VERHICLE",t}({}),J=e("AytR");function x(t,i){if(1&t){const t=o.Zb();o.Yb(0,"tr"),o.Yb(1,"th",16),o.Jc(2),o.Xb(),o.Yb(3,"td"),o.Jc(4),o.Xb(),o.Yb(5,"td"),o.Jc(6),o.Xb(),o.Yb(7,"td"),o.Jc(8),o.Xb(),o.Yb(9,"td"),o.Yb(10,"input",17),o.fc("click",(function(e){o.zc(t);const s=i.$implicit;return o.jc(3).onSelect(s.api,1,e)})),o.Xb(),o.Xb(),o.Yb(11,"td"),o.Yb(12,"input",17),o.fc("click",(function(e){o.zc(t);const s=i.$implicit;return o.jc(3).onSelect(s.api,2,e)})),o.Xb(),o.Xb(),o.Yb(13,"td"),o.Yb(14,"input",17),o.fc("click",(function(e){o.zc(t);const s=i.$implicit;return o.jc(3).onSelect(s.api,4,e)})),o.Xb(),o.Xb(),o.Yb(15,"td"),o.Yb(16,"input",17),o.fc("click",(function(e){o.zc(t);const s=i.$implicit;return o.jc(3).onSelect(s.api,7,e)})),o.Xb(),o.Xb(),o.Xb()}if(2&t){const t=i.$implicit,e=o.jc().$implicit,s=o.jc(2);o.Hb(2),o.Lc(" ",e.label," "),o.Hb(2),o.Lc(" ",t.link," "),o.Hb(2),o.Lc(" ",t.label," "),o.Hb(2),o.Lc(" ",t.api," "),o.Hb(2),o.pc("checked",s.checked(t.api,1)),o.Hb(2),o.pc("checked",s.checked(t.api,2)),o.Hb(2),o.pc("checked",s.checked(t.api,4)),o.Hb(2),o.pc("checked",s.checked(t.api,7))}}function N(t,i){if(1&t&&(o.Yb(0,"tbody"),o.Hc(1,x,17,8,"tr",15),o.Xb()),2&t){const t=i.$implicit;o.Hb(1),o.pc("ngForOf",t.sub)}}function D(t,i){if(1&t&&(o.Yb(0,"table",13),o.Yb(1,"thead"),o.Yb(2,"tr"),o.Yb(3,"th",14),o.Jc(4,"Module"),o.Xb(),o.Yb(5,"th",14),o.Jc(6,"Link"),o.Xb(),o.Yb(7,"th",14),o.Jc(8,"App"),o.Xb(),o.Yb(9,"th",14),o.Jc(10,"api"),o.Xb(),o.Yb(11,"th",14),o.Jc(12,"Read"),o.Xb(),o.Yb(13,"th",14),o.Jc(14,"Write"),o.Xb(),o.Yb(15,"th",14),o.Jc(16,"Delete"),o.Xb(),o.Yb(17,"th",14),o.Jc(18,"Root"),o.Xb(),o.Xb(),o.Xb(),o.Hc(19,N,2,1,"tbody",15),o.Xb()),2&t){const t=o.jc();o.Hb(19),o.pc("ngForOf",t.permissions)}}const I=function(t,i){return{"btn-success":t,"btn-danger":i}};let M=(()=>{class t{constructor(t,i,e,s){this.fb=t,this.plus=i,this.route=e,this.location=s,this.PERMISSION=H,this.name="",this.permissions=J.a.nav,this.api="user",this.perUser={}}ngOnInit(){this.getById()}getById(){this.plus.load();const t=this.route.snapshot.paramMap.get("id");this.plus.httpGet("user/"+t).subscribe(t=>{this.user=t,this.perUser=t.opt,this.status=t.status,this.fullName=t.fullName,this.depart=t.depart,this.unit=t.unit,this.name=t.displayName+" - "+t.email,console.log(this.user),this.plus.loaded()},t=>this.plus.alertError())}update(){this.user.opt=this.perUser,this.user.status=this.status,this.user.fullName=this.fullName,this.user.depart=this.depart,this.user.unit=this.unit,this.plus.httpPut(this.api,this.user).subscribe(t=>{this.plus.alertToasrt(t)})}onSelect(t,i,e){const s={};if(s[t]=i,e.target.checked)this.perUser=Object.assign(Object.assign({},this.perUser),s);else switch(i){case 1:delete this.perUser[t];break;case 2:this.perUser[t]=1;break;case 4:this.perUser[t]=2;break;case 7:this.perUser[t]=4}console.log(this.perUser)}checked(t,i){return!!(this.perUser&&this.perUser[t]>=i)}deletePer(){this.perUser={}}lockUser(){let t=this.user;t.status=this.status,this.plus.httpPut(this.api,t).subscribe(t=>{this.plus.alertToasrt(t)})}goBack(){this.location.back()}checkPer(t,i){return this.plus.checkPer(t,i)}}return t.\u0275fac=function(i){return new(i||t)(o.Sb(b.c),o.Sb(r.a),o.Sb(X.a),o.Sb(a.i))},t.\u0275cmp=o.Mb({type:t,selectors:[["app-permission"]],decls:30,vars:10,consts:[[1,"container"],[1,"text-center","text-primary","my-5"],[1,"per2"],[1,"in"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["class","table table-hover",4,"ngIf"],[1,"text-center"],["type","button",1,"btn",3,"ngClass","click"],["type","button",1,"btn","btn-outline-primary","mx-3",3,"click"],["type","button",1,"btn","btn-outline-warning","mx-3",3,"click"],[1,"table","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],["type","checkbox",1,"form-check-input",3,"checked","click"]],template:function(t,i){1&t&&(o.Yb(0,"div",0),o.Yb(1,"h4",1),o.Jc(2),o.Xb(),o.Yb(3,"div",2),o.Yb(4,"div",3),o.Yb(5,"div",4),o.Yb(6,"div",5),o.Yb(7,"span",6),o.Jc(8,"H\u1ecd v\xe0 t\xean"),o.Xb(),o.Xb(),o.Yb(9,"input",7),o.fc("ngModelChange",(function(t){return i.fullName=t})),o.Xb(),o.Xb(),o.Yb(10,"div",4),o.Yb(11,"div",5),o.Yb(12,"span",6),o.Jc(13,"Ph\xf2ng ban"),o.Xb(),o.Xb(),o.Yb(14,"input",7),o.fc("ngModelChange",(function(t){return i.depart=t})),o.Xb(),o.Xb(),o.Yb(15,"div",4),o.Yb(16,"div",5),o.Yb(17,"span",6),o.Jc(18,"\u0110\u01a1n v\u1ecb"),o.Xb(),o.Xb(),o.Yb(19,"input",7),o.fc("ngModelChange",(function(t){return i.unit=t})),o.Xb(),o.Xb(),o.Xb(),o.Hc(20,D,20,1,"table",8),o.Yb(21,"div",9),o.Yb(22,"button",10),o.fc("click",(function(){return i.status=!i.status})),o.Jc(23),o.Xb(),o.Yb(24,"button",11),o.fc("click",(function(){return i.update()})),o.Jc(25,"Save"),o.Xb(),o.Yb(26,"button",11),o.fc("click",(function(){return i.deletePer()})),o.Jc(27,"Clear"),o.Xb(),o.Yb(28,"button",12),o.fc("click",(function(){return i.goBack()})),o.Jc(29,"Back"),o.Xb(),o.Xb(),o.Xb(),o.Xb()),2&t&&(o.Hb(2),o.Lc("User: ",i.name,""),o.Hb(7),o.pc("ngModel",i.fullName),o.Hb(5),o.pc("ngModel",i.depart),o.Hb(5),o.pc("ngModel",i.unit),o.Hb(1),o.pc("ngIf",i.user),o.Hb(2),o.pc("ngClass",o.vc(7,I,1==i.status,0==i.status)),o.Hb(1),o.Lc(" ",1==i.status?"On":"Off"," "))},directives:[b.b,b.j,b.m,a.m,a.k,a.l],styles:[""]}),t})();const _=function(t,i){return{"btn-success":t,"btn-danger":i}};function O(t,i){if(1&t){const t=o.Zb();o.Yb(0,"tr"),o.Yb(1,"td"),o.Jc(2),o.Xb(),o.Yb(3,"td"),o.Yb(4,"a",8),o.Jc(5),o.Xb(),o.Xb(),o.Yb(6,"td"),o.Yb(7,"button",9),o.Jc(8),o.Xb(),o.Xb(),o.Yb(9,"td"),o.Jc(10),o.Xb(),o.Yb(11,"td"),o.Yb(12,"a",8),o.Tb(13,"i",10),o.Xb(),o.Yb(14,"i",11),o.fc("click",(function(){o.zc(t);const e=i.$implicit;return o.jc().deleteUsr(e._id)})),o.Xb(),o.Xb(),o.Xb()}if(2&t){const t=i.$implicit;o.Hb(2),o.Kc(t.usr),o.Hb(2),o.qc("routerLink",t._id),o.Hb(1),o.Kc(t.displayName),o.Hb(2),o.pc("ngClass",o.vc(7,_,1==t.status,0==t.status)),o.Hb(1),o.Lc(" ",t.status?"On":"Off"," "),o.Hb(2),o.Kc(t.email),o.Hb(2),o.qc("routerLink",t._id)}}const S=[{path:"",component:y},{path:"user",component:(()=>{class t{constructor(t,i){this.plus=t,this.fb=i,this.api="user",this.permissions=[],this.userPermiss=[],this.searchForm=this.fb.group({what:["",b.s.minLength(3)]}),this.main=this.fb.group({usr:[,[b.s.required,b.s.min(3),b.s.max(100)]],pwd:[,[b.s.required,b.s.min(8),b.s.max(100)]],level:[,[b.s.min(3),b.s.max(6)]],displayName:[,[b.s.min(3),b.s.max(100)]],email:[,[]],phoneNumber:[,[]],title:[,[]],depart:[,[]],unit:[,[]],note:[,[]],fullName:[,[b.s.min(3),b.s.max(100)]],SoHieuNhanSu:[,[]],BiDanh:[,[]],ChucDanh:[,[]],BoPhanLamViec:[,[]]})}ngOnInit(){this.getUsrs()}getUsrs(){this.plus.load(),this.plus.httpGet(this.api+"/page/1").subscribe(t=>{this.users=t,this.plus.loaded()})}onEdit(t){this.userPermiss=[];const i=t;i.level.forEach(t=>(delete t._id,this.userPermiss.push(t.label))),this.editUsr=i}deleteUsr(t){this.plus.httpDelete(this.api,t).subscribe(t=>{this.plus.alertToasrt(t)})}update(){const t=this.editUsr;delete t.__v,this.plus.httpPut(this.api,t).subscribe(t=>{this.plus.alertToasrt(t)})}checkAll(t){this.editUsr.level=t.target.checked?this.permissions:[]}}return t.\u0275fac=function(i){return new(i||t)(o.Sb(r.a),o.Sb(b.c))},t.\u0275cmp=o.Mb({type:t,selectors:[["app-user-list"]],decls:18,vars:1,consts:[[1,"container-fluid"],[1,"row"],[1,"table","table-hover","table-inverse"],[1,"thead-inverse"],[1,"text-center"],[1,"text-primary"],[1,"fa","fa-refresh",3,"click"],[4,"ngFor","ngForOf"],[3,"routerLink"],["type","button",1,"btn",3,"ngClass"],[1,"fa","fa-pencil","text-success"],[1,"fa","fa-trash","text-danger",3,"click"]],template:function(t,i){1&t&&(o.Jc(0,"."),o.Yb(1,"div",0),o.Yb(2,"div",1),o.Yb(3,"table",2),o.Yb(4,"thead",3),o.Yb(5,"tr"),o.Yb(6,"th",4),o.Jc(7,"T\xe0i kho\u1ea3n"),o.Xb(),o.Yb(8,"th",4),o.Jc(9,"T\xean"),o.Xb(),o.Yb(10,"th",4),o.Jc(11,"Tr\u1ea1ng th\xe1i"),o.Xb(),o.Yb(12,"th",4),o.Jc(13,"Email"),o.Xb(),o.Yb(14,"th",5),o.Yb(15,"i",6),o.fc("click",(function(){return i.ngOnInit()})),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Yb(16,"tbody"),o.Hc(17,O,15,10,"tr",7),o.Xb(),o.Xb(),o.Xb(),o.Xb()),2&t&&(o.Hb(17),o.pc("ngForOf",i.users))},directives:[a.l,X.d,a.k],styles:[""]}),t})()},{path:"user/:id",component:M},{path:"per",component:M},{path:"log",component:v},{path:"catalog",component:m}];let w=(()=>{class t{}return t.\u0275mod=o.Qb({type:t}),t.\u0275inj=o.Pb({factory:function(i){return new(i||t)},imports:[[X.e.forChild(S)],X.e]}),t})(),B=(()=>{class t{}return t.\u0275mod=o.Qb({type:t}),t.\u0275inj=o.Pb({factory:function(i){return new(i||t)},imports:[[a.b,w,b.f,b.p,n.a,b.f,c.a,s.a]]}),t})()}}]);