(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"Rc+H":function(t,a,e){"use strict";e.r(a),e.d(a,"QuizModule",(function(){return Y}));var i=e("0rYp"),o=e("d/KH"),n=e("bSW0"),r=e("s7LF"),s=e("SVse"),p=e("COeT"),l=e("8Y7J"),b=e("iInd"),c=e("tFlX"),u=e("Dxy4"),d=e("t4gC");let h=(()=>{class t{constructor(t,a,e){this.fb=t,this.plus=a,this.route=e,this.main=this.fb.group({CauHoi:[,[r.s.required]],DapAn1:[,[r.s.required]],DapAn2:[,[r.s.required]],DapAn3:[,[r.s.required]],DapAn4:[,[r.s.required]],DapAn5:[,[]],DapAnDung:[,[r.s.required]],PhanLoai:[,[r.s.required]],Nhom:[,[r.s.required]]}),this.dbName="quiz",this.db=null,this.api="tba",this.collection="quiz",this.readonly=!0,this.importData=[],this.errorData=[]}ngOnInit(){this.init_IDB()}init_IDB(){this.plus.IDB_InitDB(this.dbName).subscribe(t=>{this.db=t,this.getById()})}getById(){this.plus.load();const t=this.route.snapshot.paramMap.get("id");t?this.plus.httpGet(this.api+"/id/"+t).subscribe(t=>{let a=this.plus.decrypt(t.data);console.log(a),this.plus.loaded()},t=>this.plus.alertError()):this.plus.loaded()}save(){const t=this.route.snapshot.paramMap.get("id");let a=this.main.value;a.NgayLapDat=this.plus.dateFormat(a.NgayLapDat,"x","YYYY-MM-DD"),a.dateModify=Date.now(),+t>0?this.plus.httpPut(this.api,a).subscribe(t=>{this.plus.alertToasrt(t),this.plus.IDB_DB_Add(this.db,this.api,a)}):this.plus.httpPost(this.api,a).subscribe(t=>{this.plus.alertToasrt(t),this.plus.IDB_DB_Add(this.db,this.api,a),console.log(t)})}checkPer(t){return this.plus.checkPer(this.api,t)}editable(){this.readonly=!this.readonly}import(){const t=this.importData.map(t=>{let a=t;return a.keyWord=this.plus.removeAccents(JSON.stringify(t)),a});console.log(t);let a=JSON.stringify(t),e={data:this.plus.encrypt(a)};this.plus.httpPost(this.api+"/import",e).subscribe(t=>{console.log(t)})}onPaste(t){const a=t[1];console.log(a);let e={_id:+a[0],MaTram:a[0],TenTram:a[1],Tuyen:a[2],SoPha:a[3],CongSuat:+a[4],DienAp:a[5],SoMba:+a[6],SoHuu:a[7],ViTri:a[8]||"",HieuMccb:a[9]||"",IdmMccb:+a[10],NacMccb:+a[11]||1,CapSuatXuong:a[12]||"",CapSuatLen:a[13]||"",MaPk:a[14],PhaDauNoi:a[15]||"",NgayLapDat:this.plus.dateFormat(a[16],"DD/MM/YYYY","YYYY-MM-DD"),ToQuanLy:a[17]||"",GhiChu:a[18]||"",NhatKyThiCong:a[19]||"",TonTai:a[20]||""};console.log(e),this.main.patchValue(e)}onSelectFile(t){const a=t.slice(2);console.log(a),a.forEach((t,a)=>{let e={_id:+t[0],MaTram:t[0],TenTram:t[1],Tuyen:t[2],SoPha:t[3],CongSuat:+t[4],DienAp:t[5],SoMba:+t[6],SoHuu:t[7],ViTri:t[8]||"",HieuMccb:t[9]||"",IdmMccb:+t[10],NacMccb:+t[11]||1,CapSuatXuong:t[12]||"",CapSuatLen:t[13]||"",MaPk:t[14],PhaDauNoi:t[15]||"",NgayLapDat:this.plus.ExcelDateToJSDate(t[16]),ToQuanLy:t[17]||"",GhiChu:t[18]||"",NhatKyThiCong:t[19]||"",TonTai:t[20]||""};this.main.patchValue(e),this.main.valid?this.importData.push(e):this.errorData.push(e)})}goBack(){this.plus.goBack()}deleteDB(){this.plus.httpDelete(this.api,"/find/all").subscribe(t=>{console.log(t)})}export(){this.plus.exportHTML("xx")}}return t.\u0275fac=function(a){return new(a||t)(l.Sb(r.c),l.Sb(p.a),l.Sb(b.a))},t.\u0275cmp=l.Mb({type:t,selectors:[["app-quiz-edit"]],decls:60,vars:12,consts:[[1,"container"],[1,"text-center","text-primary","my-4"],[1,"formx",3,"formGroup"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],["formControlName","CauHoi","rows","2",1,"form-control",3,"readOnly"],["formControlName","DapAn1","rows","2",1,"form-control",3,"readOnly"],["formControlName","DapAn2","rows","2",1,"form-control",3,"readOnly"],["formControlName","DapAn3","rows","2",1,"form-control",3,"readOnly"],["formControlName","DapAn4","rows","2",1,"form-control",3,"readOnly"],["formControlName","DapAn5","rows","2",1,"form-control",3,"readOnly"],[1,"row"],[1,"col-4"],["type","text","list","dapan","formControlName","DapAnDung",1,"form-control",3,"readOnly"],["type","text","formControlName","PhanLoai",1,"form-control",3,"readOnly"],["type","text","list","quiz","formControlName","Nhom",1,"form-control",3,"readOnly"],[3,"nhom"],["mat-raised-button","","color","primary",3,"click"],[3,"xls"]],template:function(t,a){1&t&&(l.Yb(0,"div",0),l.Yb(1,"h4",1),l.Jc(2,"QU\u1ea2N L\xdd C\xc2U H\u1eceI TR\u1eaeC NGHI\u1ec6M"),l.Xb(),l.Yb(3,"div",2),l.Yb(4,"div",3),l.Yb(5,"div",4),l.Yb(6,"span",5),l.Jc(7,"C\xe2u h\u1ecfi"),l.Xb(),l.Xb(),l.Tb(8,"textarea",6),l.Xb(),l.Yb(9,"div",3),l.Yb(10,"div",4),l.Yb(11,"span",5),l.Jc(12,"\u0110\xe1p \xe1n A"),l.Xb(),l.Xb(),l.Tb(13,"textarea",7),l.Xb(),l.Yb(14,"div",3),l.Yb(15,"div",4),l.Yb(16,"span",5),l.Jc(17,"\u0110\xe1p \xe1n B"),l.Xb(),l.Xb(),l.Tb(18,"textarea",8),l.Xb(),l.Yb(19,"div",3),l.Yb(20,"div",4),l.Yb(21,"span",5),l.Jc(22,"\u0110\xe1p \xe1n C"),l.Xb(),l.Xb(),l.Tb(23,"textarea",9),l.Xb(),l.Yb(24,"div",3),l.Yb(25,"div",4),l.Yb(26,"span",5),l.Jc(27,"\u0110\xe1p \xe1n D"),l.Xb(),l.Xb(),l.Tb(28,"textarea",10),l.Xb(),l.Yb(29,"div",3),l.Yb(30,"div",4),l.Yb(31,"span",5),l.Jc(32,"\u0110\xe1p \xe1n E"),l.Xb(),l.Xb(),l.Tb(33,"textarea",11),l.Xb(),l.Yb(34,"div",12),l.Yb(35,"div",13),l.Yb(36,"div",3),l.Yb(37,"div",4),l.Yb(38,"span",5),l.Jc(39,"\u0110\xe1p \xe1n \u0111\xfang"),l.Xb(),l.Xb(),l.Tb(40,"input",14),l.Xb(),l.Xb(),l.Yb(41,"div",13),l.Yb(42,"div",3),l.Yb(43,"div",4),l.Yb(44,"span",5),l.Jc(45,"Ph\xe2n Lo\u1ea1i"),l.Xb(),l.Xb(),l.Tb(46,"input",15),l.Xb(),l.Xb(),l.Yb(47,"div",13),l.Yb(48,"div",3),l.Yb(49,"div",4),l.Yb(50,"span",5),l.Jc(51,"Nh\xf3m"),l.Xb(),l.Xb(),l.Jc(52," \xa0"),l.Tb(53,"input",16),l.Tb(54,"app-datalist",17),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Yb(55,"div",12),l.Yb(56,"button",18),l.fc("click",(function(){return a.editable()})),l.Jc(57,"S\u1eeda"),l.Xb(),l.Xb(),l.Yb(58,"app-import-excel",19),l.fc("xls",(function(t){return a.onSelectFile(t)})),l.Xb(),l.Xb(),l.Tb(59,"app-datalist",17)),2&t&&(l.Hb(3),l.pc("formGroup",a.main),l.Hb(5),l.pc("readOnly",a.readonly),l.Hb(5),l.pc("readOnly",a.readonly),l.Hb(5),l.pc("readOnly",a.readonly),l.Hb(5),l.pc("readOnly",a.readonly),l.Hb(5),l.pc("readOnly",a.readonly),l.Hb(5),l.pc("readOnly",a.readonly),l.Hb(7),l.pc("readOnly",a.readonly),l.Hb(6),l.pc("readOnly",a.readonly),l.Hb(7),l.pc("readOnly",a.readonly),l.Hb(1),l.pc("nhom","quiz"),l.Hb(5),l.pc("nhom","dapan"))},directives:[r.k,r.e,r.b,r.j,r.d,c.a,u.a,d.a],styles:[""]}),t})();const m=[{path:"",component:(()=>{class t{constructor(t){this.plus=t,this.dbName="quiz"}ngOnInit(){this.plus.IDB_InitDB(this.dbName)}}return t.\u0275fac=function(a){return new(a||t)(l.Sb(p.a))},t.\u0275cmp=l.Mb({type:t,selectors:[["app-quiz"]],decls:2,vars:0,template:function(t,a){1&t&&(l.Yb(0,"p"),l.Jc(1,"quiz works!"),l.Xb())},styles:[""]}),t})()},{path:"edit",component:h},{path:"e-learning",component:h}];let y=(()=>{class t{}return t.\u0275mod=l.Qb({type:t}),t.\u0275inj=l.Pb({factory:function(a){return new(a||t)},imports:[[b.e.forChild(m)],b.e]}),t})(),Y=(()=>{class t{}return t.\u0275mod=l.Qb({type:t}),t.\u0275inj=l.Pb({factory:function(a){return new(a||t)},imports:[[s.b,r.p,y,n.a,o.a,i.a]]}),t})()}}]);