function _defineProperty(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function _defineProperties(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function _createClass(n,t,e){return t&&_defineProperties(n.prototype,t),e&&_defineProperties(n,e),n}function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{fj2Z:function(n,t,e){"use strict";e.r(t),e.d(t,"PersonModule",(function(){return K}));var i,a,b=e("2E4B"),o=function n(){_classCallCheck(this,n)},r=e("COeT"),s=e("8Y7J"),c=e("iInd"),h=e("SVse"),l=((i=function(){function n(t,e){_classCallCheck(this,n),this.plus=t,this.route=e,this.person=new o,this.api="person",this.db=null,this.dbName="person",this.collection="person",this.dbList=[]}return _createClass(n,[{key:"ngOnInit",value:function(){var n=this;this.plus.IDB_InitDB(this.api).subscribe((function(t){console.log("dbName person"),n.db=t;var e=n.route.snapshot.paramMap.get("id");n.plus.IDB_DB_GetByKey(n.db,n.collection,e).subscribe((function(i){if(i)return n.plus.loaded(),n.person=i;n.plus.httpGet(n.api+e).subscribe((function(e){n.plus.IDB_DB_Add(t,n.collection,e),n.person=e,n.plus.loaded()}),(function(t){n.plus.alertError(),n.plus.loaded()}))})),n.getById()}))}},{key:"getById",value:function(){var n=this;this.plus.load();var t=this.route.snapshot.paramMap.get("id");console.log(t),this.plus.sleep(1e3),this.plus.IDB_DB_GetByKey(this.db,this.collection,t).subscribe((function(e){if(e)return n.plus.alertToasrt(e),n.plus.loaded(),n.person=e;n.plus.httpGet(n.api+t).subscribe((function(t){n.plus.IDB_DB_Add(n.db,n.collection,t),n.person=t,n.plus.loaded()}),(function(t){n.plus.alertError(),n.plus.loaded()}))}))}},{key:"arr_Filter1",value:function(){this.dbList.filter((function(n){console.log(n)}))}},{key:"update",value:function(n,t,e){var i=_defineProperty({},t,n);console.log(i),e!==n&&this.plus.httpPut(this.api+"update",i).subscribe((function(n){console.log(n)}))}}]),n}()).\u0275fac=function(n){return new(n||i)(s.Sb(r.a),s.Sb(c.a))},i.\u0275cmp=s.Mb({type:i,selectors:[["app-person-info"]],decls:248,vars:32,consts:[[1,"container","my-3"],["role","tablist",1,"nav","nav-pills","mb-5","justify-content-center"],[1,"nav-item"],["data-toggle","pill","href","#coban",1,"nav-link","active"],["data-toggle","pill","href","#daotao",1,"nav-link"],["data-toggle","pill","href","#luong",1,"nav-link"],[1,"tab-content"],["id","coban","role","tabpanel",1,"tab-pane","fade","show","active"],[1,"row"],[1,"col-sm-4"],[1,"col-sm-8"],["id","daotao","role","tabpanel",1,"tab-pane","fade","show"],["id","luong","role","tabpanel",1,"tab-pane","fade","show"]],template:function(n,t){1&n&&(s.Yb(0,"div",0),s.Yb(1,"ul",1),s.Yb(2,"li",2),s.Yb(3,"a",3),s.Jc(4,"C\u01a1 B\u1ea3n"),s.Xb(),s.Xb(),s.Yb(5,"li",2),s.Yb(6,"a",4),s.Jc(7,"\u0110\xe0o t\u1ea1o"),s.Xb(),s.Xb(),s.Yb(8,"li",2),s.Yb(9,"a",5),s.Jc(10,"L\u01b0\u01a1ng"),s.Xb(),s.Xb(),s.Xb(),s.Yb(11,"div",6),s.Yb(12,"div",7),s.Yb(13,"div",8),s.Yb(14,"div",9),s.Yb(15,"h6"),s.Jc(16,"S\u1ed1 hi\u1ec7u nh\xe2n s\u1ef1:"),s.Xb(),s.Xb(),s.Yb(17,"div",10),s.Yb(18,"h6"),s.Jc(19),s.Xb(),s.Xb(),s.Xb(),s.Tb(20,"hr"),s.Yb(21,"div",8),s.Yb(22,"div",9),s.Yb(23,"h6"),s.Jc(24,"B\xed danh:"),s.Xb(),s.Xb(),s.Yb(25,"div",10),s.Yb(26,"h6"),s.Jc(27),s.Xb(),s.Xb(),s.Xb(),s.Tb(28,"hr"),s.Yb(29,"div",8),s.Yb(30,"div",9),s.Yb(31,"h6"),s.Jc(32,"H\u1ecd v\xe0 t\xean:"),s.Xb(),s.Xb(),s.Yb(33,"div",10),s.Yb(34,"h6"),s.Jc(35),s.Xb(),s.Xb(),s.Xb(),s.Tb(36,"hr"),s.Yb(37,"div",8),s.Yb(38,"div",9),s.Yb(39,"h6"),s.Jc(40,"Ch\u1ee9c danh:"),s.Xb(),s.Xb(),s.Yb(41,"div",10),s.Yb(42,"h6"),s.Jc(43),s.Xb(),s.Xb(),s.Xb(),s.Tb(44,"hr"),s.Yb(45,"div",8),s.Yb(46,"div",9),s.Yb(47,"h6"),s.Jc(48,"Ch\u1ee9c danh 2:"),s.Xb(),s.Xb(),s.Yb(49,"div",10),s.Yb(50,"h6"),s.Jc(51),s.Xb(),s.Xb(),s.Xb(),s.Tb(52,"hr"),s.Yb(53,"div",8),s.Yb(54,"div",9),s.Yb(55,"h6"),s.Jc(56,"Ch\u1ee9c v\u1ee5 \u0110\u1ea3ng:"),s.Xb(),s.Xb(),s.Yb(57,"div",10),s.Yb(58,"h6"),s.Jc(59),s.Xb(),s.Xb(),s.Xb(),s.Tb(60,"hr"),s.Yb(61,"div",8),s.Yb(62,"div",9),s.Yb(63,"h6"),s.Jc(64,"Ch\u1ee9c v\u1ee5 \u0110o\xe0n th\u1ec3:"),s.Xb(),s.Xb(),s.Yb(65,"div",10),s.Yb(66,"h6"),s.Jc(67),s.Xb(),s.Xb(),s.Xb(),s.Tb(68,"hr"),s.Yb(69,"div",8),s.Yb(70,"div",9),s.Yb(71,"h6"),s.Jc(72,"T\u1ed5:"),s.Xb(),s.Xb(),s.Yb(73,"div",10),s.Yb(74,"h6"),s.Jc(75),s.Xb(),s.Xb(),s.Xb(),s.Tb(76,"hr"),s.Yb(77,"div",8),s.Yb(78,"div",9),s.Yb(79,"h6"),s.Jc(80,"Ph\xf2ng:"),s.Xb(),s.Xb(),s.Yb(81,"div",10),s.Yb(82,"h6"),s.Jc(83),s.Xb(),s.Xb(),s.Xb(),s.Tb(84,"hr"),s.Yb(85,"div",8),s.Yb(86,"div",9),s.Yb(87,"h6"),s.Jc(88,"Ph\xf2ng Ban:"),s.Xb(),s.Xb(),s.Yb(89,"div",10),s.Yb(90,"h6"),s.Jc(91),s.Xb(),s.Xb(),s.Xb(),s.Tb(92,"hr"),s.Yb(93,"div",8),s.Yb(94,"div",9),s.Yb(95,"h6"),s.Jc(96,"Ng\xe0y sinh:"),s.Xb(),s.Xb(),s.Yb(97,"div",10),s.Yb(98,"h6"),s.Jc(99),s.kc(100,"date"),s.Xb(),s.Xb(),s.Xb(),s.Tb(101,"hr"),s.Yb(102,"div",8),s.Yb(103,"div",9),s.Yb(104,"h6"),s.Jc(105,"Gi\u1edbi t\xednh:"),s.Xb(),s.Xb(),s.Yb(106,"div",10),s.Yb(107,"h6"),s.Jc(108),s.Xb(),s.Xb(),s.Xb(),s.Tb(109,"hr"),s.Yb(110,"div",8),s.Yb(111,"div",9),s.Yb(112,"h6"),s.Jc(113,"\u0110i\u1ec7n tho\u1ea1i:"),s.Xb(),s.Xb(),s.Yb(114,"div",10),s.Yb(115,"h6"),s.Jc(116),s.Xb(),s.Xb(),s.Xb(),s.Tb(117,"hr"),s.Xb(),s.Yb(118,"div",11),s.Yb(119,"div",8),s.Yb(120,"div",9),s.Yb(121,"h6"),s.Jc(122,"H\u1ec7:"),s.Xb(),s.Xb(),s.Yb(123,"div",10),s.Yb(124,"h6"),s.Jc(125),s.Xb(),s.Xb(),s.Xb(),s.Tb(126,"hr"),s.Yb(127,"div",8),s.Yb(128,"div",9),s.Yb(129,"h6"),s.Jc(130,"Tr\xecnh \u0111\u1ed9 cao nh\u1ea5t:"),s.Xb(),s.Xb(),s.Yb(131,"div",10),s.Yb(132,"h6"),s.Jc(133),s.Xb(),s.Xb(),s.Xb(),s.Tb(134,"hr"),s.Yb(135,"div",8),s.Yb(136,"div",9),s.Yb(137,"h6"),s.Jc(138,"Nh\xf3m ng\xe0nh:"),s.Xb(),s.Xb(),s.Yb(139,"div",10),s.Yb(140,"h6"),s.Jc(141),s.Xb(),s.Xb(),s.Xb(),s.Tb(142,"hr"),s.Yb(143,"div",8),s.Yb(144,"div",9),s.Yb(145,"h6"),s.Jc(146,"Ng\xe0nh ngh\u1ec1 \u0111\xe0o t\u1ea1o:"),s.Xb(),s.Xb(),s.Yb(147,"div",10),s.Yb(148,"h6"),s.Jc(149),s.Xb(),s.Xb(),s.Xb(),s.Tb(150,"hr"),s.Yb(151,"div",8),s.Yb(152,"div",9),s.Yb(153,"h6"),s.Jc(154,"V\u0103n b\u1eb1ng:"),s.Xb(),s.Xb(),s.Yb(155,"div",10),s.Yb(156,"h6"),s.Jc(157),s.Xb(),s.Xb(),s.Xb(),s.Tb(158,"hr"),s.Yb(159,"div",8),s.Yb(160,"div",9),s.Yb(161,"h6"),s.Jc(162,"Tin h\u1ecdc:"),s.Xb(),s.Xb(),s.Yb(163,"div",10),s.Yb(164,"h6"),s.Jc(165),s.Xb(),s.Xb(),s.Xb(),s.Tb(166,"hr"),s.Yb(167,"div",8),s.Yb(168,"div",9),s.Yb(169,"h6"),s.Jc(170,"Ngo\u1ea1i Ng\u1eef:"),s.Xb(),s.Xb(),s.Yb(171,"div",10),s.Yb(172,"h6"),s.Jc(173),s.Xb(),s.Xb(),s.Xb(),s.Tb(174,"hr"),s.Xb(),s.Yb(175,"div",12),s.Yb(176,"div",8),s.Yb(177,"div",9),s.Yb(178,"h6"),s.Jc(179,"B\u1eadc l\u01b0\u01a1ng:"),s.Xb(),s.Xb(),s.Yb(180,"div",10),s.Yb(181,"h6"),s.Jc(182),s.Xb(),s.Xb(),s.Xb(),s.Tb(183,"hr"),s.Yb(184,"div",8),s.Yb(185,"div",9),s.Yb(186,"h6"),s.Jc(187,"H\u1ec7 s\u1ed1 l\u01b0\u01a1ng:"),s.Xb(),s.Xb(),s.Yb(188,"div",10),s.Yb(189,"h6"),s.Jc(190),s.Xb(),s.Xb(),s.Xb(),s.Tb(191,"hr"),s.Yb(192,"div",8),s.Yb(193,"div",9),s.Yb(194,"h6"),s.Jc(195,"Ng\u1ea1ch l\u01b0\u01a1ng:"),s.Xb(),s.Xb(),s.Yb(196,"div",10),s.Yb(197,"h6"),s.Jc(198),s.Xb(),s.Xb(),s.Xb(),s.Tb(199,"hr"),s.Yb(200,"div",8),s.Yb(201,"div",9),s.Yb(202,"h6"),s.Jc(203,"B\u1ea3ng l\u01b0\u01a1ng:"),s.Xb(),s.Xb(),s.Yb(204,"div",10),s.Yb(205,"h6"),s.Jc(206),s.Xb(),s.Xb(),s.Xb(),s.Tb(207,"hr"),s.Yb(208,"div",8),s.Yb(209,"div",9),s.Yb(210,"h6"),s.Jc(211,"TaiKhoanChuyenLuong:"),s.Xb(),s.Xb(),s.Yb(212,"div",10),s.Yb(213,"h6"),s.Jc(214),s.Xb(),s.Xb(),s.Xb(),s.Tb(215,"hr"),s.Yb(216,"div",8),s.Yb(217,"div",9),s.Yb(218,"h6"),s.Jc(219,"PhuCapHopDong:"),s.Xb(),s.Xb(),s.Yb(220,"div",10),s.Yb(221,"h6"),s.Jc(222),s.Xb(),s.Xb(),s.Xb(),s.Tb(223,"hr"),s.Yb(224,"div",8),s.Yb(225,"div",9),s.Yb(226,"h6"),s.Jc(227,"PCCV:"),s.Xb(),s.Xb(),s.Yb(228,"div",10),s.Yb(229,"h6"),s.Jc(230),s.Xb(),s.Xb(),s.Xb(),s.Tb(231,"hr"),s.Yb(232,"div",8),s.Yb(233,"div",9),s.Yb(234,"h6"),s.Jc(235,"PCTN:"),s.Xb(),s.Xb(),s.Yb(236,"div",10),s.Yb(237,"h6"),s.Jc(238),s.Xb(),s.Xb(),s.Xb(),s.Tb(239,"hr"),s.Yb(240,"div",8),s.Yb(241,"div",9),s.Yb(242,"h6"),s.Jc(243,"PCLD:"),s.Xb(),s.Xb(),s.Yb(244,"div",10),s.Yb(245,"h6"),s.Jc(246),s.Xb(),s.Xb(),s.Xb(),s.Tb(247,"hr"),s.Xb(),s.Xb(),s.Xb()),2&n&&(s.Hb(19),s.Kc(t.person.SoHieuNhanSu),s.Hb(8),s.Kc(t.person.BiDanh),s.Hb(8),s.Kc(t.person.HoVaTen),s.Hb(8),s.Kc(t.person.ChucDanh),s.Hb(8),s.Kc(t.person.ChucDanh2),s.Hb(8),s.Kc(t.person.ChucVuDang),s.Hb(8),s.Kc(t.person.ChucVuDoanThe),s.Hb(8),s.Kc(t.person.To),s.Hb(8),s.Kc(t.person.Phong),s.Hb(8),s.Kc(t.person.PhongBan),s.Hb(8),s.Kc(s.mc(100,29,t.person.NgaySinh,"dd/MM/yyyy")),s.Hb(9),s.Kc(t.person.GioiTinh),s.Hb(8),s.Kc(t.person.DienThoai),s.Hb(9),s.Kc(t.person.He),s.Hb(8),s.Kc(t.person.TrinhDoCaoNhat),s.Hb(8),s.Kc(t.person.NhomNganh),s.Hb(8),s.Kc(t.person.NganhNgheDaoTao),s.Hb(8),s.Kc(t.person.VanBang),s.Hb(8),s.Kc(t.person.TinHoc),s.Hb(8),s.Kc(t.person.NgoaiNgu),s.Hb(9),s.Kc(t.person.BacLuong),s.Hb(8),s.Kc(t.person.HeSoLuong),s.Hb(8),s.Kc(t.person.NgachLuong),s.Hb(8),s.Kc(t.person.BangLuong),s.Hb(8),s.Kc(t.person.Taikhoanchuyenluong),s.Hb(8),s.Kc(t.person.Phucaphopdong),s.Hb(8),s.Kc(t.person.PCCV),s.Hb(8),s.Kc(t.person.PCTN),s.Hb(8),s.Kc(t.person.PCLD))},pipes:[h.d],styles:[".nav-tabs[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#777}"]}),i),u=e("mrSG"),d=e("EUZL"),p=e("s7LF"),g=((a=function(){function n(t,e){_classCallCheck(this,n),this.fb=t,this.plus=e,this.db=null,this.dbName="person",this.api="person"}return _createClass(n,[{key:"ngOnInit",value:function(){var n=this;this.plus.IDB_InitDB(this.dbName).subscribe((function(t){n.db=t}))}},{key:"getDashborad",value:function(){this.plus.httpGet(this.api+"dashboard").subscribe((function(n){console.log(n)}))}},{key:"onFocus",value:function(n,t){console.log("focus",t),document.getElementById(n).style.background="yellow"}},{key:"onBlur",value:function(n,t){console.log("Blur",t.target.textContent),document.getElementById(n).style.background=""}}]),n}()).\u0275fac=function(n){return new(n||a)(s.Sb(p.c),s.Sb(r.a))},a.\u0275cmp=s.Mb({type:a,selectors:[["app-person"]],decls:0,vars:0,template:function(n,t){},styles:["section[_ngcontent-%COMP%]{padding:20px 0}section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{text-align:center;color:#007b5e;margin-bottom:30px;text-transform:uppercase}#tabs[_ngcontent-%COMP%]{background:#007b5e}#tabs[_ngcontent-%COMP%], #tabs[_ngcontent-%COMP%]   h6.section-title[_ngcontent-%COMP%]{color:#eee}#tabs[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#f3f3f3;background-color:transparent;border-color:transparent transparent #f3f3f3;border-bottom:4px solid!important;font-size:20px;font-weight:700}#tabs[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border:1px solid transparent;border-top-left-radius:.25rem;border-top-right-radius:.25rem;color:#eee;font-size:20px}"]}),a);function f(n,t){if(1&n){var e=s.Zb();s.Yb(0,"div"),s.Yb(1,"input",7,8),s.fc("change",(function(n){return s.zc(e),s.jc().readXlsx(n)})),s.Xb(),s.Yb(3,"label",9),s.fc("click",(function(){return s.zc(e),s.yc(2)})),s.Tb(4,"i",10),s.Jc(5," Ch\u1ecdn file "),s.Xb(),s.Xb()}}function X(n,t){if(1&n){var e=s.Zb();s.Yb(0,"button",3),s.fc("click",(function(){return s.zc(e),s.jc().checkImportData()})),s.Jc(1,"Ki\u1ec3m tra"),s.Xb()}}function v(n,t){if(1&n){var e=s.Zb();s.Yb(0,"button",3),s.fc("click",(function(){return s.zc(e),s.jc().import()})),s.Jc(1,"Nh\u1eadp d\u1eef li\u1ec7u"),s.Xb()}}function Y(n,t){if(1&n){var e=s.Zb();s.Yb(0,"button",3),s.fc("click",(function(){return s.zc(e),s.jc().update()})),s.Jc(1,"C\u1eadp nh\u1eadt d\u1eef li\u1ec7u"),s.Xb()}}function m(n,t){1&n&&(s.Yb(0,"div",1),s.Tb(1,"i",11),s.Xb())}function C(n,t){if(1&n&&(s.Yb(0,"tr"),s.Yb(1,"td",15),s.Jc(2),s.Xb(),s.Yb(3,"td"),s.Jc(4),s.Xb(),s.Yb(5,"td"),s.Jc(6),s.Xb(),s.Xb()),2&n){var e=t.$implicit;s.Hb(2),s.Kc(e.name),s.Hb(2),s.Kc(e.header),s.Hb(2),s.Kc(e.value||"\u0110ang \u0111\u1ec3 tr\u1ed1ng")}}function y(n,t){if(1&n&&(s.Yb(0,"table",12),s.Yb(1,"thead",13),s.Yb(2,"tr"),s.Yb(3,"th"),s.Jc(4,"H\u1ecd v\xe0 t\xean"),s.Xb(),s.Yb(5,"th"),s.Jc(6,"C\u1ed9t b\u1ecb l\u1ed7i"),s.Xb(),s.Yb(7,"th"),s.Jc(8,"N\u1ed9i dung b\u1ea1n nh\u1eadp"),s.Xb(),s.Xb(),s.Xb(),s.Yb(9,"tbody"),s.Hc(10,C,7,3,"tr",14),s.Yb(11,"tr"),s.Tb(12,"td",15),s.Tb(13,"td"),s.Tb(14,"td"),s.Xb(),s.Xb(),s.Xb()),2&n){var e=s.jc();s.Hb(10),s.pc("ngForOf",e.err)}}var J,T=((J=function(){function n(t,e,i){_classCallCheck(this,n),this.plus=t,this.fb=e,this.location=i,this.dataImport=[],this.dataJson=[],this.errData=[],this.err=[],this.dbList=[],this.send="",this.loading=!1,this.loadMoreBtn=!1,this.api="person/",this.person=this.fb.group({SoHieuNhanSu:[,[p.s.required,p.s.min(3),p.s.max(999999)]],BiDanh:[,[p.s.required,p.s.minLength(3),p.s.maxLength(7)]],HoVaTen:[,[p.s.required,p.s.max(10)]],ChucDanh:[,[p.s.required,p.s.minLength(3),p.s.maxLength(255)]],ChucDanh2:[,[p.s.required,p.s.minLength(3),p.s.maxLength(255)]],ChucVuDang:[,[]],ChucVuDoanThe:[,[]],To:[,[p.s.minLength(3),p.s.maxLength(255)]],Phong:[,[p.s.required,p.s.minLength(3),p.s.maxLength(255)]],PhongBan:[,[p.s.required,p.s.minLength(3),p.s.maxLength(255)]],NgaySinh:[,[p.s.required]],GioiTinh:[,[p.s.required,p.s.minLength(1),p.s.maxLength(50)]],DienThoai:[,[p.s.required,p.s.maxLength(15)]],MSNV:[,[p.s.required,p.s.maxLength(5)]],DanToc:[,[p.s.required,p.s.minLength(3),p.s.maxLength(255)]],TonGiao:[,[p.s.required,p.s.minLength(3),p.s.maxLength(255)]],Email:[,[p.s.required,p.s.minLength(3),p.s.maxLength(255)]],SoChungMinhNhanDan:[,[p.s.required,p.s.minLength(3),p.s.maxLength(255)]],NgayCapCmnd:[,[p.s.required]],NoiCapCmnd:[,[p.s.required,p.s.maxLength(255)]],ChinhSach:[,[p.s.maxLength(255)]],NoiSinh:[,[p.s.maxLength(255)]],NguyenQuan:[,[p.s.required,p.s.maxLength(255)]],ThuongTru:[,[p.s.required,p.s.maxLength(255)]],MSTCN:[,[p.s.required,p.s.maxLength(255)]],DonVi:[,[p.s.required,p.s.maxLength(255)]],BacLuong:[,[p.s.required,p.s.maxLength(255)]],HeSoLuong:[,[p.s.required,p.s.maxLength(255)]],NgachLuong:[,[p.s.required]],BangLuong:[,[p.s.required]],Taikhoanchuyenluong:[,[p.s.required]],Phucaphopdong:[,[]],PCCV:[,[]],PCTN:[,[]],PCLD:[,[]],VanHoaPhoThong:[,[]],HocVi:[,[]],TrinhDoChinhTri:[,[]],NgayVaoNganh:[,[]],NgayDuBiDang:[,[]],NgayChinhThucDang:[,[]],He:[,[]],TrinhDoCaoNhat:[,[]],NhomNganh:[,[]],NganhNgheDaoTao:[,[]],VanBang:[,[]],TinHoc:[,[]],NgoaiNgu:[,[]],Level:[,[p.s.required,p.s.max(10)]]})}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"readXlsx",value:function(n){var t=this;if("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===n.target.files[0].type){this.loading=!0,this.dataJson=[],this.dataImport=[];var e=n.target,i=new FileReader;i.onload=function(n){var e=d.read(n.target.result,{type:"binary"});t.dataImport=d.utils.sheet_to_json(e.Sheets[e.SheetNames[0]],{header:1}),t.loading=!1},i.readAsBinaryString(e.files[0]),e=null}else this.plus.alertToasrt({war:"B\u1ea1n ch\u1ec9 \u0111\u01b0\u1ee3c ch\u1ecdn file excel"}),this.loading=!1}},{key:"checkImportData",value:function(){var n=this;this.reset();for(var t=this.dataImport.length,e=this.dataImport[0],i=function(t){var i=n.dataImport[t],a={SoHieuNhanSu:i[1],BiDanh:""+i[2],HoVaTen:i[3],ChucDanh:i[4],ChucDanh2:i[5],ChucVuDang:i[6],ChucVuDoanThe:i[7],To:i[8],Phong:i[9],PhongBan:i[10],NgaySinh:n.plus.ExcelDateToJSDate(i[11]),GioiTinh:i[12],DienThoai:i[13],MSNV:""+i[14],DanToc:i[15],TonGiao:i[16],Email:i[17],SoChungMinhNhanDan:i[18],NgayCapCmnd:n.plus.ExcelDateToJSDate(i[19]),NoiCapCmnd:i[20],ChinhSach:i[21],NoiSinh:i[22],NguyenQuan:i[23],ThuongTru:i[24],MSTCN:""+i[25],DonVi:i[26],BacLuong:i[27],HeSoLuong:i[28],NgachLuong:i[29],BangLuong:i[30],Taikhoanchuyenluong:i[31],Phucaphopdong:i[32],PCCV:i[33],PCTN:i[34],PCLD:i[35],VanHoaPhoThong:i[36],HocVi:i[37],TrinhDoChinhTri:i[38],NgayVaoNganh:n.plus.ExcelDateToJSDate(i[39]),NgayDuBiDang:n.plus.ExcelDateToJSDate(i[40]),NgayChinhThucDang:n.plus.ExcelDateToJSDate(i[41]),He:i[42],TrinhDoCaoNhat:i[43],NhomNganh:i[44],NganhNgheDaoTao:i[45],VanBang:i[46],TinHoc:i[47],NgoaiNgu:i[48],Level:i[49]};if(n.person.patchValue(a),n.person.valid){var b=n.plus.addKeyWord(a);n.dataJson.push(a),console.log(b)}else n.plus.getFormValidationErrors(n.person,t).forEach((function(i){var b={name:a.HoVaTen,header:e[Object.keys(a).indexOf(i.KeyControl)+1],value:a[i.KeyControl]};console.log(t),n.err.push(b)})),n.errData.push(a)},a=2;a<t;a++)i(a)}},{key:"import",value:function(){if(this.err.length>0)this.plus.alertToasrt({err:"B\u1ea1n h\xe3y s\u1eeda l\u1ed7i file tr\u01b0\u1edbc khi nh\u1eadp d\u1eef li\u1ec7u!"}),this.plus.go("/nhansu/import");else{var n=JSON.stringify(this.dataJson);this.plus.httpPost(this.api+"import",n).subscribe((function(n){console.log(n)}))}}},{key:"update",value:function(){return Object(u.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(this.err.length>0)){n.next=2;break}return n.abrupt("return",(this.plus.alertToasrt({err:"B\u1ea1n h\xe3y s\u1eeda l\u1ed7i file tr\u01b0\u1edbc khi nh\u1eadp d\u1eef li\u1ec7u!"}),this.plus.go("/nhansu/import")));case 2:if(n.t0=this.dataJson.length>0,!n.t0){n.next=6;break}return n.next=6,this.plus.sleep(5e3);case 6:case"end":return n.stop()}}),n,this)})))}},{key:"reset",value:function(){this.err=[],this.dataJson=[],this.errData=[],this.err=[],this.dbList=[],this.dataJson=[]}},{key:"refresh",value:function(){this.location.back(),this.location.forward()}}]),n}()).\u0275fac=function(n){return new(n||J)(s.Sb(r.a),s.Sb(p.c),s.Sb(h.i))},J.\u0275cmp=s.Mb({type:J,selectors:[["app-person-import"]],decls:12,vars:6,consts:[[1,"container"],[1,"text-center","text-primary"],[4,"ngIf"],["type","button",1,"btn","btn-primary","mx-2",3,"click"],["type","button","class","btn btn-primary mx-2",3,"click",4,"ngIf"],["class","text-center text-primary",4,"ngIf"],["class","table table-inverse",4,"ngIf"],["hidden","","id","file-upload","type","file","multiple","false",3,"change"],["fileInput",""],["for","file-upload",1,"btn","btn-outline-primary",3,"click"],[1,"fa","fa-cloud-upload"],[1,"fa","fa-spinner","fa-spin",2,"font-size","36px"],[1,"table","table-inverse"],[1,"thead-inverse"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(n,t){1&n&&(s.Yb(0,"div",0),s.Tb(1,"app-person"),s.Yb(2,"h5",1),s.Jc(3,"Nh\u1eadp nh\xe2n s\u1ef1 t\u1eeb excel"),s.Xb(),s.Hc(4,f,6,0,"div",2),s.Yb(5,"button",3),s.fc("click",(function(){return t.refresh()})),s.Jc(6,"L\xe0m l\u1ea1i"),s.Xb(),s.Hc(7,X,2,0,"button",4),s.Hc(8,v,2,0,"button",4),s.Hc(9,Y,2,0,"button",4),s.Hc(10,m,2,0,"div",5),s.Hc(11,y,15,1,"table",6),s.Xb()),2&n&&(s.Hb(4),s.pc("ngIf",0===t.dataJson.length&&0===t.err.length),s.Hb(3),s.pc("ngIf",t.dataImport.length>0),s.Hb(1),s.pc("ngIf",0===t.err.length&&t.dataJson.length>0),s.Hb(1),s.pc("ngIf",0===t.err.length&&t.dataJson.length>0),s.Hb(1),s.pc("ngIf",t.loading),s.Hb(1),s.pc("ngIf",0!==t.err.length))},directives:[g,h.m,h.l],styles:[""]}),J),D=e("q8zl"),H=e("GxNG");function N(n,t){if(1&n&&(s.Yb(0,"tr"),s.Yb(1,"td"),s.Jc(2),s.Xb(),s.Yb(3,"td"),s.Jc(4),s.Xb(),s.Yb(5,"td"),s.Yb(6,"a",8),s.Jc(7),s.Xb(),s.Xb(),s.Yb(8,"td"),s.Jc(9),s.Xb(),s.Yb(10,"td"),s.Jc(11),s.Xb(),s.Xb()),2&n){var e=t.$implicit;s.Hb(2),s.Kc(e.SoHieuNhanSu),s.Hb(2),s.Kc(e.BiDanh),s.Hb(2),s.qc("routerLink",e._id),s.Hb(1),s.Kc(e.HoVaTen),s.Hb(2),s.Kc(e.ChucDanh),s.Hb(2),s.Kc(e.PhongBan)}}function B(n,t){if(1&n&&(s.Yb(0,"table",5),s.Yb(1,"thead",6),s.Yb(2,"tr"),s.Yb(3,"th"),s.Jc(4,"S\u1ed1 hi\u1ec7u nh\xe2n s\u1ef1"),s.Xb(),s.Yb(5,"th"),s.Jc(6,"B\xed danh"),s.Xb(),s.Yb(7,"th"),s.Jc(8,"H\u1ecd v\xe0 t\xean"),s.Xb(),s.Yb(9,"th"),s.Jc(10,"Ch\u1ee9c danh"),s.Xb(),s.Yb(11,"th"),s.Jc(12,"Ph\xf2ng Ban"),s.Xb(),s.Xb(),s.Xb(),s.Yb(13,"tbody"),s.Hc(14,N,12,6,"tr",7),s.Xb(),s.Xb()),2&n){var e=s.jc();s.Hb(14),s.pc("ngForOf",e.data)}}var _,k,L,x=[{path:"",component:g},{path:"danhsach",component:(_=function(){function n(t,e){_classCallCheck(this,n),this.fb=t,this.plus=e,this.db=null,this.dbName="person",this.collection="person",this.api="person",this.loadMoreBtn=!1,this.data=[],this.main=this.fb.group({}),this.searchForm=this.fb.group({what:["",[p.s.minLength(3),p.s.maxLength(100)]]})}return _createClass(n,[{key:"ngOnInit",value:function(){var n=this;this.plus.IDB_InitDB(this.dbName).subscribe((function(t){n.plus.load(),n.db=t,n.plus.IDB_DB_GetAll(t,n.collection).subscribe((function(t){0==t.length&&n.get(),n.data=t,n.plus.loaded()}))}))}},{key:"clear",value:function(){this.plus.IDB_DB_DeleteDB(this.dbName)}},{key:"get",value:function(){var n=this;this.plus.IDB_DB_GetAll(this.db,this.api).subscribe((function(t){n.plus.load(),t.length>0?(n.plus.loaded(),n.data=t,n.update()):n.plus.httpGet(n.api).subscribe((function(t){n.plus.loaded(),t.length>0&&(n.data=t,n.plus.IDB_DB_Add(n.db,n.api,t))}),(function(t){return n.plus.alertError()}))}))}},{key:"find",value:function(n){this.plus.loaded(),this.data=n,this.plus.IDB_DB_Add(this.db,this.api,n)}},{key:"loadMore",value:function(n){var t=this;null!=n&&(this.plus.IDB_DB_Add(this.db,this.api,n),console.log(n),n.forEach((function(n){t.data.push(n)})))}},{key:"update",value:function(){var n=this;this.plus.FBS_Update(this.api).subscribe((function(t){var e=n.plus.Arr_MaxValue(n.data,"dateModify");t[0].dateModify>e&&n.plus.httpGet("".concat(n.api,"/update/").concat(e,"/time/").concat(n.data.length)).subscribe((function(t){n.data.concat(t),n.data=n.plus.sortArr(n.data,"dateModify"),n.plus.IDB_DB_Add(n.db,n.api,n.plus.decrypt(t.data))})),console.log(t[0].dateModify,e)}))}}]),n}(),_.\u0275fac=function(n){return new(n||_)(s.Sb(p.c),s.Sb(r.a))},_.\u0275cmp=s.Mb({type:_,selectors:[["app-person-list"]],decls:5,vars:5,consts:[[1,"container","my-5"],[1,"form-group",3,"formGroup"],[3,"api","data"],["class","table table-striped table-inverse table-responsive",4,"ngIf"],[3,"api","dataLength","data"],[1,"table","table-striped","table-inverse","table-responsive"],[1,"thead-inverse"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(n,t){1&n&&(s.Yb(0,"div",0),s.Yb(1,"div",1),s.Yb(2,"app-search-api",2),s.fc("data",(function(n){return t.find(n)})),s.Xb(),s.Xb(),s.Hc(3,B,15,1,"table",3),s.Yb(4,"app-loadmore",4),s.fc("data",(function(n){return t.loadMore(n)})),s.Xb(),s.Xb()),2&n&&(s.Hb(1),s.pc("formGroup",t.searchForm),s.Hb(1),s.pc("api",t.api),s.Hb(1),s.pc("ngIf",t.data.length>0),s.Hb(1),s.pc("api",t.api)("dataLength",t.data.length))},directives:[p.k,p.e,D.a,h.m,H.a,h.l,c.d],styles:[""]}),_)},{path:"danhsach/:id",component:l},{path:"import",component:T}],P=((k=function n(){_classCallCheck(this,n)}).\u0275mod=s.Qb({type:k}),k.\u0275inj=s.Pb({factory:function(n){return new(n||k)},imports:[[c.e.forChild(x)],c.e]}),k),I=e("ADsi"),S=e("9QQf"),K=((L=function n(){_classCallCheck(this,n)}).\u0275mod=s.Qb({type:L}),L.\u0275inj=s.Pb({factory:function(n){return new(n||L)},imports:[[I.ShareModule,P,S.a,b.a]]}),L)}}]);